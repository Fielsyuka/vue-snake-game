(function(t){function n(n){for(var i,o,u=n[0],r=n[1],s=n[2],f=0,d=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);l&&l(n);while(d.length)d.shift()();return c.push.apply(c,s||[]),e()}function e(){for(var t,n=0;n<c.length;n++){for(var e=c[n],i=!0,u=1;u<e.length;u++){var r=e[u];0!==a[r]&&(i=!1)}i&&(c.splice(n--,1),t=o(o.s=e[0]))}return t}var i={},a={app:0},c=[];function o(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)o.d(e,i,function(n){return t[n]}.bind(null,i));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],r=u.push.bind(u);u.push=n,u=u.slice();for(var s=0;s<u.length;s++)n(u[s]);var l=r;c.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"4fb1":function(t,n,e){"use strict";e("a825")},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("7a23"),a={class:"App"},c={class:"header"},o=Object(i["e"])("div",{class:"title-container"},[Object(i["e"])("h1",{class:"nav-title"},"Snake Game")],-1),u={class:"main"},r={class:"footer"};function s(t,n,e,s,l,f){var d=Object(i["l"])("Navigation"),b=Object(i["l"])("Field"),p=Object(i["l"])("Button"),h=Object(i["l"])("ManipulationPanel");return Object(i["h"])(),Object(i["d"])("div",a,[Object(i["e"])("header",c,[o,Object(i["f"])(d,{difficulty:l.difficulty,length:l.body.length,updateDifficulty:f.updateDifficulty},null,8,["difficulty","length","updateDifficulty"])]),Object(i["e"])("main",u,[Object(i["f"])(b,{fields:l.fields},null,8,["fields"])]),Object(i["e"])("footer",r,[Object(i["f"])(p,{onOnChangeStatus:f.updateStatus,status:l.status},null,8,["onOnChangeStatus","status"]),Object(i["f"])(h,{onOnChange:f.onChangeDirection},null,8,["onOnChange"])])])}var l=e("2909"),f={class:"navigation"},d={class:"navigation-item"},b=Object(i["e"])("span",{class:"navigation-label"},"Length: ",-1),p={class:"navigation-item-number-container"},h={class:"num-board"},y={class:"navigation-item"},O=Object(i["e"])("span",{class:"navigation-label"},"Difficulty: ",-1),g={class:"navigation-item-number-container"},j={class:"num-board"},v={class:"difficulty-button-container"};function m(t,n,e,a,c,o){return Object(i["h"])(),Object(i["d"])("div",f,[Object(i["e"])("div",d,[b,Object(i["e"])("div",p,[Object(i["e"])("div",h,Object(i["m"])(e.length),1)])]),Object(i["e"])("div",y,[O,Object(i["e"])("div",g,[Object(i["e"])("span",j,Object(i["m"])(e.difficulty),1),Object(i["e"])("div",v,[Object(i["e"])("div",{class:Object(i["g"])(["difficulty-button difficulty-up",{"is-hidden":c.buttonUpHidden}]),onClick:n[0]||(n[0]=function(){return o.onUpDifficulty&&o.onUpDifficulty.apply(o,arguments)})},null,2),Object(i["e"])("div",{class:Object(i["g"])(["difficulty-button difficulty-down",{"is-hidden":c.buttonDownHidden}]),onClick:n[1]||(n[1]=function(){return o.onDownDifficulty&&o.onDownDifficulty.apply(o,arguments)})},null,2)])])])])}e("a9e3"),e("dca8");var k=e("53ca"),w=(e("d3b7"),e("cb29"),function(t,n){for(var e=function(){var e=Math.floor(Math.random()*(t-1-1))+1,i=Math.floor(Math.random()*(t-1-1))+1,a=n.some((function(t){return t.x===e&&t.y===i}));if(!a)return{v:{y:i,x:e}}};;){var i=e();if("object"===Object(k["a"])(i))return i.v}}),C=function(t,n,e){for(var i=[],a=0;a<t;a++){var c=new Array(t).fill("");i.push(c)}return i[n.y][n.x]="snake",i[e.y][e.x]="food",i},D=35,S={x:17,y:17},x=C(D,S,w(D,[S])),V=3,M=[1e3,500,100,50,10],P=Object.freeze({init:"start",playing:"playing",suspended:"suspended",gameover:"gameover"}),$=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),_=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),H=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),N=Object.freeze({37:$.left,38:$.up,39:$.right,40:$.down}),U={name:"Navigation",props:{updateDifficulty:Function,length:Number,difficulty:Number},data:function(){return{buttonUpHidden:!1,buttonDownHidden:!1}},methods:{onUpDifficulty:function(){this.updateDifficulty(this.difficulty+1)},onDownDifficulty:function(){this.updateDifficulty(this.difficulty-1)}},watch:{difficulty:function(t){this.buttonUpHidden=t>=M.length,this.buttonDownHidden=t<=1}}},z=e("6b0d"),A=e.n(z);const F=A()(U,[["render",m]]);var G=F,I={class:"field"};function B(t,n,e,a,c,o){return Object(i["h"])(),Object(i["d"])("div",I,[(Object(i["h"])(!0),Object(i["d"])(i["a"],null,Object(i["k"])(e.fields,(function(t){return Object(i["h"])(),Object(i["d"])(i["a"],null,[(Object(i["h"])(!0),Object(i["d"])(i["a"],null,Object(i["k"])(t,(function(t,n){return Object(i["h"])(),Object(i["d"])("div",{class:Object(i["g"])(["dots",t]),key:n},null,2)})),128))],64)})),256))])}var E={name:"Field",props:{fields:Array},data:function(){return{}}};e("4fb1");const J=A()(E,[["render",B],["__scopeId","data-v-3c7d5d5e"]]);var L=J,T={class:"button"};function q(t,n,e,a,c,o){return Object(i["h"])(),Object(i["d"])("div",T,[e.status===o.getStatusVal("init")?(Object(i["h"])(),Object(i["d"])("button",{key:0,class:"btn btn-init",onClick:n[0]||(n[0]=function(n){return t.$emit("onChangeStatus",o.getStatusVal("playing"))})}," Start ")):Object(i["c"])("",!0),e.status===o.getStatusVal("suspended")?(Object(i["h"])(),Object(i["d"])("button",{key:1,class:"btn btn-suspended",onClick:n[1]||(n[1]=function(n){return t.$emit("onChangeStatus",o.getStatusVal("playing"))})}," Start ")):Object(i["c"])("",!0),e.status===o.getStatusVal("playing")?(Object(i["h"])(),Object(i["d"])("button",{key:2,class:"btn btn-playing",onClick:n[2]||(n[2]=function(n){return t.$emit("onChangeStatus",o.getStatusVal("suspended"))})}," Stop ")):Object(i["c"])("",!0),e.status===o.getStatusVal("gameover")?(Object(i["h"])(),Object(i["d"])("button",{key:3,class:"btn btn-gameover",onClick:n[3]||(n[3]=function(n){return t.$emit("onChangeStatus",o.getStatusVal("init"))})}," Game Over ")):Object(i["c"])("",!0)])}var K={name:"Button",props:{status:String},data:function(){return{}},methods:{getStatusVal:function(t){return P[t]}}};const Q=A()(K,[["render",q]]);var R=Q,W={className:"manipulation-panel"};function X(t,n,e,a,c,o){return Object(i["h"])(),Object(i["d"])("div",W,[Object(i["e"])("button",{class:"manipulation-btn btn btn-left",onClick:n[0]||(n[0]=function(n){return t.$emit("onChange",o.getDirectionVal("left"))})},"←"),Object(i["e"])("div",null,[Object(i["e"])("button",{class:"manipulation-btn btn btn-up",onClick:n[1]||(n[1]=function(n){return t.$emit("onChange",o.getDirectionVal("up"))})},"↑"),Object(i["e"])("button",{class:"manipulation-btn btn btn-down",onClick:n[2]||(n[2]=function(n){return t.$emit("onChange",o.getDirectionVal("down"))})},"↓")]),Object(i["e"])("button",{class:"manipulation-btn btn btn-right",onClick:n[3]||(n[3]=function(n){return t.$emit("onChange",o.getDirectionVal("right"))})},"→")])}var Y={name:"ManipulationPanel",methods:{getDirectionVal:function(t){return $[t]}}};const Z=A()(Y,[["render",X]]);var tt=Z,nt={name:"App",components:{Navigation:G,Field:L,Button:R,ManipulationPanel:tt},data:function(){return{timer:void 0,fields:x,status:P.init,body:[S],direction:$.up,difficulty:V}},methods:{playGame:function(){var t=this;if(this.status!==P.playing)return!1;var n=M[this.difficulty-1];this.timer=setInterval((function(){var n={x:t.body[0].x+H[t.direction].x,y:t.body[0].y+H[t.direction].y};if(t.isCollision(n))t.status=P.gameover;else{var e=Object(l["a"])(t.body);if("food"===t.fields[n.y][n.x]){var i=w(D,t.body);t.fields[i.y][i.x]="food"}else{var a=e.pop();t.fields[a.y][a.x]=""}t.fields[n.y][n.x]="snake",e.unshift(n),t.body=e}}),n)},onChangeDirection:function(t){this.status===P.playing&&_[this.direction]!==t&&(this.direction=t)},updateDifficulty:function(t){this.status===P.init&&(t<1||t>M.length||(this.difficulty=t))},updateStatus:function(t){this.status=t},isCollision:function(t){return t.y<0||t.x<0||(t.y>D-1||t.x>D-1)},isEatingMyself:function(t){return"snake"===this.fields[t.y][t.x]}},watch:{status:function(t){switch(t){case P.init:this.body=[S],this.direction=$.up,this.fields=C(D,S,w(D,[S]));break;case P.gameover:clearInterval(this.timer);break;case P.playing:this.playGame();break;case P.suspended:clearInterval(this.timer);break;default:return}}},created:function(){var t=this,n=function(n){var e=N[n.keyCode];e&&t.onChangeDirection(e)};document.addEventListener("keydown",n)}};e("a728");const et=A()(nt,[["render",s]]);var it=et;Object(i["b"])(it).mount("#app")},"96bb":function(t,n,e){},a728:function(t,n,e){"use strict";e("96bb")},a825:function(t,n,e){}});
//# sourceMappingURL=app.19b49dca.js.map